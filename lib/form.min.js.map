{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///form.min.js","webpack:///webpack/bootstrap 2829d04bf831115fd622","webpack:///./src/index.js"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","this","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","mod","apply","undefined","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","FEEDBACK_STATUS_SUCCESS","FEEDBACK_STATUS_WARNING","FEEDBACK_STATUS_ERROR","Form","_base$features$Featur","getPrototypeOf","arguments","init","isLoading","$form","$","$feedback","$progress","noValidate","addEventListener","_submitListener","_resetListener","fetch","action","opts","_this2","Promise","resolve","reject","request","XMLHttpRequest","currentRequest","base","eventHub","trigger","withCredentials","open","method","h","headers","setRequestHeader","onload","onerror","onabort","ontimeout","upload","onprogress","_onProgress","send","body","then","e","status","error","Error","statusText","response","json","JSON","parse","responseText","showFeedback","msg","type","innerHTML","classList","add","options","feedbackClassWarning","feedbackClassError","feedbackClassSuccess","resetFeedback","remove","resetValidation","_this3","$$formFields","$$","formFieldClass","forEach","$field","$message","querySelector","formFieldMessageElement","formFieldMessageClass","formFieldClassError","parentNode","removeChild","resetProgress","progressClassShow","setProgress","percentage","showProgress","hideProgressOnEnd","percentageRounded","Math","ceil","$loaded","$percentage","style","width","textContent","displayFieldErrors","errors","fieldErrors","getFieldErrors","getErrorField","document","createElement","appendChild","$text","_createFormData","formData","FormData","_this4","lengthComputable","loaded","total","_this5","abort","_this6","preventDefault","getAttribute","node","classLoading","success","message","defaultSuccessMessage","removeFormOnSuccess","scroller","window","setTimeout","toElement","findFieldErrors","defaultErrorMessage","catch","err","features","Feature","defaultOptions","$input","closest","default"],"mappings":"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","file":"form.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"form\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"form\"] = factory();\n\telse\n\t\troot[\"form\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"form\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"form\"] = factory();\n\telse\n\t\troot[\"form\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;(function (global, factory) {\n  if (true) {\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [exports], __WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === 'function' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__)) : __WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof exports !== \"undefined\") {\n    factory(exports);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports);\n    global.index = mod.exports;\n  }\n})(this, function (exports) {\n  'use strict';\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n\n  var _createClass = function () {\n    function defineProperties(target, props) {\n      for (var i = 0; i < props.length; i++) {\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n      }\n    }\n\n    return function (Constructor, protoProps, staticProps) {\n      if (protoProps) defineProperties(Constructor.prototype, protoProps);\n      if (staticProps) defineProperties(Constructor, staticProps);\n      return Constructor;\n    };\n  }();\n\n  function _possibleConstructorReturn(self, call) {\n    if (!self) {\n      throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n    }\n\n    return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== \"function\" && superClass !== null) {\n      throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n  }\n\n  var FEEDBACK_STATUS_SUCCESS = 0;\n  var FEEDBACK_STATUS_WARNING = 1;\n  var FEEDBACK_STATUS_ERROR = 2;\n\n  /**\n   * Form feature class.\n   */\n\n  var Form = function (_base$features$Featur) {\n    _inherits(Form, _base$features$Featur);\n\n    function Form() {\n      _classCallCheck(this, Form);\n\n      return _possibleConstructorReturn(this, (Form.__proto__ || Object.getPrototypeOf(Form)).apply(this, arguments));\n    }\n\n    _createClass(Form, [{\n      key: 'init',\n      value: function init() {\n        this.isLoading = false;\n\n        this.$form = this.$('form');\n        this.$feedback = this.$('[data-feedback]');\n        this.$progress = this.$('[data-progress]');\n\n        this.$form.noValidate = true;\n\n        this.addEventListener(this.$form, 'submit', this._submitListener());\n        this.addEventListener(this.$form, 'reset', this._resetListener());\n      }\n    }, {\n      key: 'fetch',\n      value: function fetch(action, opts) {\n        var _this2 = this;\n\n        return new Promise(function (resolve, reject) {\n          var request = new XMLHttpRequest();\n          _this2.currentRequest = request;\n\n          base.eventHub.trigger('form:beforeSend', opts, request);\n          _this2.trigger('beforeSend', opts, request);\n\n          request.withCredentials = true;\n          request.open(opts.method || 'post', action);\n\n          for (var h in opts.headers || {}) {\n            if (opts.headers.hasOwnProperty(h)) {\n              request.setRequestHeader(h, opts.headers[h]);\n            }\n          }\n\n          request.onload = resolve;\n          request.onerror = reject;\n          request.onabort = reject;\n          request.ontimeout = reject;\n\n          if (_this2.$progress && request.upload) {\n            request.upload.onprogress = _this2._onProgress();\n          }\n\n          request.send(opts.body);\n        }).then(function (e) {\n          _this2.currentRequest = null;\n\n          var request = e.target;\n\n          if (request.status >= 200 && request.status < 300) {\n            return e;\n          } else {\n            var error = new Error(request.statusText);\n            error.response = e;\n            throw error;\n          }\n        }).then(function (e) {\n          var request = e.target;\n          var json = JSON.parse(request.responseText);\n\n          return { json: json, request: request };\n        });\n      }\n    }, {\n      key: 'showFeedback',\n      value: function showFeedback(msg) {\n        var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : FEEDBACK_STATUS_SUCCESS;\n\n        this.$feedback.innerHTML = msg;\n\n        switch (type) {\n          case FEEDBACK_STATUS_WARNING:\n            this.$feedback.classList.add(this.options.feedbackClassWarning);\n            break;\n          case FEEDBACK_STATUS_ERROR:\n            this.$feedback.classList.add(this.options.feedbackClassError);\n            break;\n          case FEEDBACK_STATUS_SUCCESS:\n          default:\n            this.$feedback.classList.add(this.options.feedbackClassSuccess);\n        }\n      }\n    }, {\n      key: 'resetFeedback',\n      value: function resetFeedback() {\n        this.$feedback.innerHTML = '';\n        this.$feedback.classList.remove(this.options.feedbackClassWarning);\n        this.$feedback.classList.remove(this.options.feedbackClassError);\n        this.$feedback.classList.remove(this.options.feedbackClassSuccess);\n      }\n    }, {\n      key: 'resetValidation',\n      value: function resetValidation() {\n        var _this3 = this;\n\n        var $$formFields = this.$$('.' + this.options.formFieldClass);\n\n        $$formFields.forEach(function ($field) {\n          var $message = $field.querySelector(_this3.options.formFieldMessageElement + '.' + _this3.options.formFieldMessageClass);\n          $field.classList.remove(_this3.options.formFieldClassError);\n\n          if ($message) {\n            $message.parentNode.removeChild($message);\n          }\n        });\n      }\n    }, {\n      key: 'resetProgress',\n      value: function resetProgress() {\n        if (!this.$progress) return;\n        this.$progress.classList.remove(this.options.progressClassShow);\n        this.setProgress(0);\n      }\n    }, {\n      key: 'setProgress',\n      value: function setProgress(percentage) {\n        if (!this.$progress || !this.options.showProgress) return;\n\n        if (percentage === 0 || percentage === 1 && this.options.hideProgressOnEnd) {\n          this.$progress.classList.remove(this.options.progressClassShow);\n        } else {\n          this.$progress.classList.add(this.options.progressClassShow);\n        }\n\n        percentage = percentage * 100;\n        var percentageRounded = Math.ceil(percentage);\n\n        var $loaded = this.$progress.querySelector('[data-loaded]');\n        var $percentage = this.$progress.querySelector('[data-percentage]');\n\n        $loaded.style.width = percentageRounded + '%';\n        $percentage.textContent = percentageRounded + '%';\n      }\n    }, {\n      key: 'displayFieldErrors',\n      value: function displayFieldErrors(errors) {\n        for (var name in errors) {\n          if (errors.hasOwnProperty(name)) {\n            var fieldErrors = this.options.getFieldErrors.call(this, name, errors);\n            var $field = this.options.getErrorField.call(this, name);\n\n            if ($field) {\n              $field.classList.add(this.options.formFieldClassError);\n              var $message = $field.querySelector(this.options.formFieldMessageElement + '.' + this.options.formFieldMessageClass);\n\n              if (!$message) {\n                $message = document.createElement(this.options.formFieldMessageElement);\n                $message.classList.add(this.options.formFieldMessageClass);\n                $field.appendChild($message);\n              }\n\n              $message.innerHTML = '';\n\n              var $text = document.createElement('span');\n              $text.textContent = fieldErrors[0];\n\n              $message.appendChild($text);\n            }\n          }\n        }\n      }\n    }, {\n      key: '_createFormData',\n      value: function _createFormData() {\n        var formData = new FormData(this.$form);\n        return formData;\n      }\n    }, {\n      key: '_onProgress',\n      value: function _onProgress() {\n        var _this4 = this;\n\n        return function (e) {\n          if (e.lengthComputable) {\n            _this4.setProgress(e.loaded / e.total);\n          }\n        };\n      }\n    }, {\n      key: '_resetListener',\n      value: function _resetListener() {\n        var _this5 = this;\n\n        return function () {\n          if (_this5.currentRequest) {\n            _this5.currentRequest.abort();\n          }\n\n          _this5.resetProgress();\n          _this5.resetFeedback();\n          _this5.resetValidation();\n        };\n      }\n    }, {\n      key: '_submitListener',\n      value: function _submitListener() {\n        var _this6 = this;\n\n        return function (e) {\n          e.preventDefault();\n          if (_this6.isLoading) return;\n\n          _this6.isLoading = true;\n\n          var formData = _this6._createFormData();\n          var action = _this6.$form.getAttribute('action');\n          var method = _this6.$form.getAttribute('method');\n\n          _this6.resetProgress();\n          _this6.resetFeedback();\n          _this6.resetValidation();\n\n          _this6.node.classList.add(_this6.options.classLoading);\n\n          _this6.fetch(action, {\n            body: formData,\n            method: method\n          }).then(function (response) {\n            base.eventHub.trigger('form:send', response);\n            _this6.trigger('send', response);\n\n            _this6.isLoading = false;\n            _this6.node.classList.remove(_this6.options.classLoading);\n\n            if (response.json.success) {\n              base.eventHub.trigger('form:sendSuccess', response);\n              _this6.trigger('sendSuccess', response);\n\n              _this6.showFeedback(response.json.message || _this6.options.defaultSuccessMessage);\n\n              if (_this6.options.removeFormOnSuccess) {\n                _this6.$form.parentNode.removeChild(_this6.$form);\n\n                if (_this6.options.scroller) {\n                  window.setTimeout(function () {\n                    _this6.options.scroller.toElement(_this6.$feedback || _this6.node);\n                  }, 0);\n                }\n              }\n            } else {\n              base.eventHub.trigger('form:sendError', response);\n              _this6.trigger('sendError', response);\n\n              var errors = _this6.options.findFieldErrors(response.json);\n\n              if (errors) {\n                _this6.displayFieldErrors(errors);\n\n                if (response.json.message) {\n                  _this6.showFeedback(response.json.message, FEEDBACK_STATUS_ERROR);\n                }\n              } else {\n                _this6.showFeedback(response.json.message || _this6.options.defaultErrorMessage, FEEDBACK_STATUS_ERROR);\n              }\n            }\n          }).catch(function (err) {\n            _this6.isLoading = false;\n            _this6.node.classList.remove(_this6.options.classLoading);\n\n            if (err.type && err.type !== 'abort') {\n              _this6.showFeedback(_this6.options.defaultErrorMessage, FEEDBACK_STATUS_SUCCESS);\n              throw err;\n            }\n          });\n        };\n      }\n    }]);\n\n    return Form;\n  }(base.features.Feature);\n\n  /**\n   * Default feature options.\n   */\n  Form.defaultOptions = {\n    scroller: null,\n    defaultSuccessMessage: 'Nachricht wurde erfolgreich versendet!',\n    defaultErrorMessage: 'Beim Senden der Nachricht ist ein Fehler aufgetreten!',\n    classLoading: '-loading',\n    removeFormOnSuccess: true,\n    showProgress: true,\n    hideProgressOnEnd: true,\n    progressClassShow: '-show',\n    formFieldClass: 'form-field',\n    formFieldClassError: '-error',\n    formFieldMessageElement: 'div',\n    formFieldMessageClass: 'message',\n    feedbackClassSuccess: '-success',\n    feedbackClassWarning: '-warning',\n    feedbackClassError: '-error',\n    findFieldErrors: function findFieldErrors(json) {\n      return json.errors;\n    },\n    getErrorField: function getErrorField(name) {\n      var $input = this.$form.querySelector('[name=\"fields[' + name + ']\"]');\n      if (!$input) return null;\n      return $input.closest('.' + this.options.formFieldClass);\n    },\n    getFieldErrors: function getFieldErrors(name, errors) {\n      return errors[name];\n    }\n  };\n\n  exports.default = Form;\n});\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// form.min.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 2829d04bf831115fd622","\nconst FEEDBACK_STATUS_SUCCESS = 0\nconst FEEDBACK_STATUS_WARNING = 1\nconst FEEDBACK_STATUS_ERROR = 2\n\n/**\n * Form feature class.\n */\nclass Form extends base.features.Feature {\n\n  init() {\n    this.isLoading = false\n\n    this.$form = this.$('form')\n    this.$feedback = this.$('[data-feedback]')\n    this.$progress = this.$('[data-progress]')\n\n    this.$form.noValidate = true\n\n    this.addEventListener(this.$form, 'submit', this._submitListener())\n    this.addEventListener(this.$form, 'reset', this._resetListener())\n  }\n\n  fetch(action, opts) {\n    return new Promise((resolve, reject) => {\n      let request = new XMLHttpRequest()\n      this.currentRequest = request\n\n      base.eventHub.trigger('form:beforeSend', opts, request)\n      this.trigger('beforeSend', opts, request)\n\n      request.withCredentials = true\n      request.open(opts.method || 'post', action)\n\n      for (let h in opts.headers || {}) {\n        if (opts.headers.hasOwnProperty(h)) {\n          request.setRequestHeader(h, opts.headers[h])\n        }\n      }\n\n      request.onload = resolve\n      request.onerror = reject\n      request.onabort = reject\n      request.ontimeout = reject\n\n      if (this.$progress && request.upload) {\n        request.upload.onprogress = this._onProgress()\n      }\n\n      request.send(opts.body)\n    }).then((e) => {\n      this.currentRequest = null\n\n      let request = e.target\n\n      if (request.status >= 200 && request.status < 300) {\n        return e\n      } else {\n        let error = new Error(request.statusText)\n        error.response = e\n        throw error\n      }\n    }).then((e) => {\n      let request = e.target\n      let json = JSON.parse(request.responseText)\n\n      return { json, request }\n    })\n  }\n\n  showFeedback(msg, type = FEEDBACK_STATUS_SUCCESS) {\n    this.$feedback.innerHTML = msg\n\n    switch (type) {\n      case FEEDBACK_STATUS_WARNING:\n        this.$feedback.classList.add(this.options.feedbackClassWarning)\n        break\n      case FEEDBACK_STATUS_ERROR:\n        this.$feedback.classList.add(this.options.feedbackClassError)\n        break\n      case FEEDBACK_STATUS_SUCCESS:\n      default:\n        this.$feedback.classList.add(this.options.feedbackClassSuccess)\n    }\n  }\n\n  resetFeedback() {\n    this.$feedback.innerHTML = ''\n    this.$feedback.classList.remove(this.options.feedbackClassWarning)\n    this.$feedback.classList.remove(this.options.feedbackClassError)\n    this.$feedback.classList.remove(this.options.feedbackClassSuccess)\n  }\n\n  resetValidation() {\n    let $$formFields = this.$$(`.${this.options.formFieldClass}`)\n\n    $$formFields.forEach(($field) => {\n      let $message = $field.querySelector(`${this.options.formFieldMessageElement}.${this.options.formFieldMessageClass}`)\n      $field.classList.remove(this.options.formFieldClassError)\n\n      if ($message) {\n        $message.parentNode.removeChild($message)\n      }\n    })\n  }\n\n  resetProgress() {\n    if (!this.$progress) return\n    this.$progress.classList.remove(this.options.progressClassShow)\n    this.setProgress(0)\n  }\n\n  setProgress(percentage) {\n    if (!this.$progress || !this.options.showProgress) return\n\n    if (percentage === 0\n        || percentage === 1 && this.options.hideProgressOnEnd\n    ) {\n      this.$progress.classList.remove(this.options.progressClassShow)\n    } else {\n      this.$progress.classList.add(this.options.progressClassShow)\n    }\n\n    percentage = percentage * 100\n    let percentageRounded = Math.ceil(percentage)\n\n    let $loaded = this.$progress.querySelector('[data-loaded]')\n    let $percentage = this.$progress.querySelector('[data-percentage]')\n\n    $loaded.style.width = `${percentageRounded}%`\n    $percentage.textContent = `${percentageRounded}%`\n  }\n\n  displayFieldErrors(errors) {\n    for (let name in errors) {\n      if (errors.hasOwnProperty(name)) {\n        let fieldErrors = this.options.getFieldErrors.call(this, name, errors)\n        let $field = this.options.getErrorField.call(this, name)\n\n        if ($field) {\n          $field.classList.add(this.options.formFieldClassError)\n          let $message = $field.querySelector(`${this.options.formFieldMessageElement}.${this.options.formFieldMessageClass}`)\n\n          if (!$message) {\n            $message = document.createElement(this.options.formFieldMessageElement)\n            $message.classList.add(this.options.formFieldMessageClass)\n            $field.appendChild($message)\n          }\n\n          $message.innerHTML = ''\n\n          let $text = document.createElement('span')\n          $text.textContent = fieldErrors[0]\n\n          $message.appendChild($text)\n        }\n      }\n    }\n  }\n\n  _createFormData() {\n    let formData = new FormData(this.$form)\n    return formData\n  }\n\n  _onProgress() {\n    return (e) => {\n      if (e.lengthComputable) {\n        this.setProgress(e.loaded / e.total)\n      }\n    }\n  }\n\n  _resetListener() {\n    return () => {\n      if (this.currentRequest) {\n        this.currentRequest.abort()\n      }\n\n      this.resetProgress()\n      this.resetFeedback()\n      this.resetValidation()\n    }\n  }\n\n  _submitListener() {\n    return (e) => {\n      e.preventDefault()\n      if (this.isLoading) return\n\n      this.isLoading = true\n\n      let formData = this._createFormData()\n      let action = this.$form.getAttribute('action')\n      let method = this.$form.getAttribute('method')\n\n      this.resetProgress()\n      this.resetFeedback()\n      this.resetValidation()\n\n      this.node.classList.add(this.options.classLoading)\n\n      this.fetch(action, {\n        body: formData,\n        method: method\n      }).then((response) => {\n        base.eventHub.trigger('form:send', response)\n        this.trigger('send', response)\n\n        this.isLoading = false\n        this.node.classList.remove(this.options.classLoading)\n\n        if (response.json.success) {\n          base.eventHub.trigger('form:sendSuccess', response)\n          this.trigger('sendSuccess', response)\n\n          this.showFeedback(response.json.message || this.options.defaultSuccessMessage)\n\n          if (this.options.removeFormOnSuccess) {\n            this.$form.parentNode.removeChild(this.$form)\n\n            if (this.options.scroller) {\n              window.setTimeout(() => {\n                this.options.scroller.toElement(this.$feedback || this.node)\n              }, 0)\n            }\n          }\n        } else {\n          base.eventHub.trigger('form:sendError', response)\n          this.trigger('sendError', response)\n\n          let errors = this.options.findFieldErrors(response.json)\n\n          if (errors) {\n            this.displayFieldErrors(errors)\n\n            if (response.json.message) {\n              this.showFeedback(response.json.message, FEEDBACK_STATUS_ERROR)\n            }\n          } else {\n            this.showFeedback(response.json.message || this.options.defaultErrorMessage, FEEDBACK_STATUS_ERROR)\n          }\n        }\n      }).catch((err) => {\n        this.isLoading = false\n        this.node.classList.remove(this.options.classLoading)\n\n        if (err.type && err.type !== 'abort') {\n          this.showFeedback(this.options.defaultErrorMessage, FEEDBACK_STATUS_SUCCESS)\n          throw err\n        }\n      })\n    }\n  }\n\n}\n\n/**\n * Default feature options.\n */\nForm.defaultOptions = {\n  scroller: null,\n  defaultSuccessMessage: 'Nachricht wurde erfolgreich versendet!',\n  defaultErrorMessage: 'Beim Senden der Nachricht ist ein Fehler aufgetreten!',\n  classLoading: '-loading',\n  removeFormOnSuccess: true,\n  showProgress: true,\n  hideProgressOnEnd: true,\n  progressClassShow: '-show',\n  formFieldClass: 'form-field',\n  formFieldClassError: '-error',\n  formFieldMessageElement: 'div',\n  formFieldMessageClass: 'message',\n  feedbackClassSuccess: '-success',\n  feedbackClassWarning: '-warning',\n  feedbackClassError: '-error',\n  findFieldErrors: function(json) {\n    return json.errors\n  },\n  getErrorField: function(name) {\n    let $input = this.$form.querySelector(`[name=\"fields[${name}]\"]`)\n    if (!$input) return null\n    return $input.closest(`.${this.options.formFieldClass}`)\n  },\n  getFieldErrors: function(name, errors) {\n    return errors[name]\n  }\n}\n\nexport default Form\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}